/*
 * "Hello World" example.
 *
 * This example prints 'Hello from Nios II' to the STDOUT stream. It runs on
 * the Nios II 'standard', 'full_featured', 'fast', and 'low_cost' example
 * designs. It runs with or without the MicroC/OS-II RTOS and requires a STDOUT
 * device in your system's hardware.
 * The memory footprint of this hosted application is ~69 kbytes by default
 * using the standard reference design.
 *
 * For a reduced footprint version of this template, and an explanation of how
 * to reduce the memory footprint for a given application, see the
 * "small_hello_world" template.
 *
 */

/*
 * "Hello World" example.
 *
 * This example prints 'Hello from Nios II' to the STDOUT stream. It runs on
 * the Nios II 'standard', 'full_featured', 'fast', and 'low_cost' example
 * designs. It runs with or without the MicroC/OS-II RTOS and requires a STDOUT
 * device in your system's hardware.
 * The memory footprint of this hosted application is ~69 kbytes by default
 * using the standard reference design.
 *
 * For a reduced footprint version of this template, and an explanation of how
 * to reduce the memory footprint for a given application, see the
 * "small_hello_world" template.
 *
 */

#include "max7219.h"
#include <stdio.h>
#include <unistd.h>
#include "io.h"
#include "system.h"
#include "altera_up_avalon_parallel_port.h"
#include <time.h>
#include <stdlib.h>

char matriz [7];
int pos;
unsigned int tem;
int i;
int j;
int main()
{	printf("Hello from Nios II!\n");
	// variable para la salida en los pines del GPIO
	unsigned int portlog=0;
	// selecionar pines de salida
	IOWR(PARALLEL_PORT_0_BASE, ALT_UP_PARALLEL_PORT_DIRECTION, 0x0000000f);
	char c;
	// programa para generar figura
	while(1)
	{
		  // envio de información:
		// inicio comunicacion
		max7219_int(portlog);
		// configuracion
		sen_2_byte_info(portlog,ADDR_SHUTDOWN,NORMAL_OPERATION);
		sen_2_byte_info(portlog,ADDR_SCAN_LIMIT,DIS_DIG_0_7);
		sen_2_byte_info(portlog,ADDR_INTENSITY,INTENSITY_21_32);
		sen_2_byte_info(portlog,ADDR_DECODE_MODE,NO_DECODE_7_0);
		sen_2_byte_info(portlog,ADDR_DISPLAY_TEST,NORMAL_OPETAION_MODE);

		 sen_2_byte_info(portlog,ADDR_DIG_0,0b00000000);
				    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_1,0b00100000);
				    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_2,0b00110000);
				    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_3,0b00111000);
				    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_4,0b00111100);
				    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_5,0b00111000);
				    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_6,0b00110000);
				    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_7,0b00100000);

		unsigned int moves[64][64]={{1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,}};

		  unsigned int inverse[64][64]={{1,1,0,1,1,1,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,0,1,0,1,0,1,0,0,1,1,0,1,1,0,0,0,0,1,0,1,0,0,0,},{1,1,0,1,0,1,1,0,0,1,0,1,0,0,0,1,0,0,0,0,1,1,0,1,0,1,0,0,0,0,0,0,1,1,1,0,1,1,0,1,0,0,0,0,0,0,0,1,1,1,1,0,1,1,1,0,0,1,0,0,0,1,0,0,},{0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,1,0,0,0,0,0,0,1,1,0,1,0,1,1,1,0,1,0,1,0,0,0,1,1,0,0,0,1,1,1,1,0,0,0,0,0,1,0,},{1,1,1,0,1,1,0,1,0,1,0,1,0,0,0,1,0,0,1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,},{1,0,1,1,0,1,1,1,1,0,0,0,1,0,1,0,0,1,1,0,1,1,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,1,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,},{1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,1,0,0,1,1,0,1,0,1,1,0,0,0,0,1,0,1,0,1,1,1,1,0,0,0,1,1,0,1,0,0,0,0,0,1,},{0,1,1,0,1,0,1,1,1,0,0,0,1,0,1,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,0,1,0,0,0,1,0,},{0,0,1,1,1,0,1,1,0,1,0,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,1,0,1,0,1,0,1,0,1,0,0,1,1,0,1,1,0,0,0,0,1,0,1,0,0,},{1,0,0,0,1,0,1,0,1,1,0,1,1,0,1,1,0,0,0,0,1,0,1,0,1,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,0,0,0,0,1,0,0,1,1,0,1,1,0,0,},{0,1,0,1,0,0,0,1,1,1,0,1,1,0,1,1,0,0,0,1,0,0,0,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,1,0,0,0,1,0,1,1,1,1,0,1,1,1,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,1,0,0,0,0,1,0,1,0,1,0,1,1,0,0,0,1,1,1,},{0,1,0,1,0,0,0,1,1,1,0,1,1,0,1,1,0,1,0,0,0,0,0,1,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,},{1,0,0,0,1,0,1,0,1,1,0,1,1,0,1,1,1,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,1,0,1,0,1,0,0,0,1,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,},{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,1,0,0,0,1,1,},{1,0,0,0,1,0,1,0,1,1,0,1,1,0,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,1,1,1,0,1,1,1,},{0,1,0,1,0,0,0,1,1,1,0,1,1,0,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,1,0,0,1,1,0,1,0,1,0,1,0,1,0,0,0,0,0,1,0,0,1,1,0,1,1,0,},{0,0,0,0,0,1,1,1,0,0,0,0,1,0,1,0,0,0,0,1,1,1,0,0,1,0,1,0,0,0,0,0,1,0,1,0,1,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,1,1,0,1,0,1,0,1,0,},{0,0,0,0,1,1,0,1,0,0,0,1,0,0,0,1,0,0,1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,},{0,0,0,1,1,0,1,1,0,0,1,0,0,0,0,0,0,1,1,0,1,0,1,1,1,0,0,0,1,0,0,0,1,0,1,1,0,1,1,1,0,0,0,0,1,0,1,0,1,0,1,0,1,1,0,0,1,0,1,0,1,0,0,0,},{0,0,1,1,0,1,1,0,0,1,0,0,0,0,0,1,1,1,0,1,0,1,0,1,0,1,0,0,0,1,0,0,0,0,1,1,1,0,1,1,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,1,0,1,},{0,1,1,0,1,1,0,0,1,0,0,0,0,0,1,0,1,0,1,0,1,0,1,1,0,0,1,0,0,0,1,0,1,1,0,1,1,1,0,0,0,0,1,0,1,0,0,0,1,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,},{1,1,0,1,1,0,0,0,0,0,0,0,0,1,0,0,1,1,0,1,0,1,1,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,0,1,0,1,0,1,0,0,0,0,0,0,1,1,0,1,0,1,0,0,0,1,0,1,0,1,},{1,0,1,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,1,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,},{1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,0,1,0,0,1,1,0,1,0,1,0,1,0,0,0,0,0,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,},{1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,1,0,0,0,0,1,0,1,0,1,0,1,1,0,0,0,1,1,1,},{0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,1,1,0,0,1,0,0,0,0,0,1,1,1,1,0,1,1,0,1,},{0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,1,0,0,0,0,0,0,1,0,1,0,1,0,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,0,1,1,},{0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,1,1,0,1,0,1,1,0,0,1,0,0,0,1,0,1,0,0,1,1,1,0,1,1,0,0,0,1,0,1,0,1,0,0,0,0,1,1,1,0,},{0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,1,1,0,1,0,1,1,1,0,1,0,0,0,1,0,1,1,0,1,1,1,0,0,1,0,1,0,1,0,0,0,0,1,1,1,0,0,0,0,},{0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,1,1,0,1,0,1,0,1,0,1,0,0,0,0,1,1,1,0,1,1,0,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,1,0,},{0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,0,0,0,1,1,0,1,1,0,0,1,0,1,0,1,0,0,1,1,1,0,0,0,0,1,0,0,0,0,0,1,0,1,0,1,1,0,1,1,1,},{0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,1,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,1,0,0,0,1,1,},{1,1,0,0,0,1,1,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,0,0,1,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,1,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,},{1,1,1,0,1,1,0,1,0,1,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,1,0,1,0,1,0,0,1,1,0,1,1,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,},{0,1,1,0,1,0,1,1,1,0,0,0,1,0,0,0,1,0,1,1,0,1,1,1,0,0,0,0,1,0,1,0,1,0,1,0,1,1,0,0,1,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,},{0,0,0,0,1,1,1,0,0,0,0,1,0,1,0,1,0,0,1,1,1,0,1,1,0,1,0,0,0,1,0,1,1,1,0,1,0,1,1,0,0,1,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,},{0,1,1,1,0,0,0,0,1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,0,1,0,1,0,0,0,1,0,0,1,1,0,1,0,1,1,0,0,1,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,},{1,1,0,1,0,1,1,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,0,1,0,1,0,1,0,0,0,0,0,0,1,1,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,},{1,0,1,1,0,1,1,1,1,0,0,0,0,0,1,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,},{1,1,1,0,0,0,1,1,0,1,0,1,0,1,0,0,0,0,1,1,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,},{1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,0,0,0,0,0,1,0,1,0,1,0,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,},{0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,1,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,1,0,1,},{1,0,1,0,1,0,0,0,1,0,1,0,1,1,0,0,0,0,0,0,1,0,1,0,1,0,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,1,1,0,1,1,},{0,0,0,0,0,1,0,1,0,0,0,0,1,1,0,1,0,0,0,1,0,1,0,0,0,0,1,1,1,0,1,1,0,1,0,0,0,1,0,0,1,1,0,1,0,1,0,1,0,1,0,0,0,0,0,1,0,0,1,1,0,1,1,0,},{1,0,1,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,1,0,1,0,0,0,1,1,0,1,1,1,0,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,1,1,0,0,0,0,0,1,0,0,1,1,0,1,1,0,0,},{0,0,0,1,0,1,0,1,0,0,1,1,0,1,0,1,0,1,0,1,0,0,0,0,1,1,1,0,1,1,0,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,1,0,0,0,0,0,0,1,0,0,1,1,0,1,1,0,0,0,},{1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0,1,0,0,0,1,0,0,0,1,0,1,1,0,0,0,0,},{0,1,0,1,0,1,0,1,1,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,0,0,0,0,1,0,1,0,0,1,1,1,0,0,0,0,1,0,1,0,0,0,0,1,1,1,0,0,0,0,0,},{0,1,1,0,1,1,0,0,1,0,0,0,0,0,1,0,1,0,1,0,1,0,1,1,0,0,1,0,1,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,1,0,1,1,0,1,1,1,0,0,0,1,0,1,0,},{1,1,1,0,1,1,1,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,0,1,1,0,1,1,0,1,0,1,0,0,0,1,},{1,1,0,0,0,1,1,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,0,0,1,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,1,0,0,0,1,0,1,0,1,0,0,1,1,1,0,0,0,0,1,0,0,0,0,0,1,1,1,0,1,1,0,1,1,0,1,0,1,0,0,0,1,},{1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,1,1,0,0,1,0,0,0,0,0,1,0,1,1,0,1,1,0,1,1,1,0,0,0,1,0,1,0,},{1,1,1,0,0,0,1,1,0,1,0,1,0,1,0,0,0,0,1,1,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},{0,1,1,1,0,1,1,1,1,0,1,0,0,0,1,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,0,0,0,1,0,0,0,1,1,0,1,1,0,1,1,1,0,0,0,1,0,1,0,},{0,0,1,1,0,1,1,0,0,1,0,0,0,0,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,0,0,0,1,1,0,1,1,0,1,1,0,1,0,1,0,0,0,1,},{0,0,1,0,1,0,0,0,0,1,1,0,1,1,0,0,1,0,1,0,1,0,1,0,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,0,1,0,1,1,0,1,1,1,0,0,},{0,1,0,0,0,1,0,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,1,0,0,0,1,1,1,0,1,0,1,1,0,},{1,0,0,0,0,0,1,0,1,1,0,0,0,1,1,1,1,0,1,0,1,0,0,0,0,1,1,0,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,},{0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,1,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,0,0,0,1,1,0,1,1,0,0,1,0,1,0,0,0,1,1,1,1,0,1,1,0,1,},{1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0,1,0,0,0,1,0,1,0,1,0,1,1,0,1,1,1,},{0,1,0,0,0,0,0,1,1,1,1,0,0,0,1,1,0,0,0,1,0,1,0,1,1,1,0,1,0,1,1,0,0,0,0,0,0,1,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,},{0,0,1,0,0,0,1,0,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,1,1,0,1,1,1,0,0,0,0,0,0,1,0,1,0,1,1,0,0,0,0,1,0,0,0,1,0,1,0,0,1,1,0,1,0,1,1,},{0,0,0,1,0,1,0,0,0,0,1,1,0,1,1,0,0,1,0,1,0,1,0,1,1,1,1,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,1,1,1,0,1,1,}};

		  unsigned int classic;

		  printf("Para modo clásico presiona c y para modo ayuda presiona b\n");
		  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b1111)
		    {
			  if(c!=0b0011)
			  {
		      if(c==0b1011)
			{
			  classic = 1;
			}
		      else
			{
			  classic = 0;
			}
			  }
		    }

		  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b0011)
		  {
		  }

		  if(classic==0)
		    {
		      unsigned int pattern[64];
		      unsigned int patternh[64];
		      unsigned int solution[64];
		      time_t t;
		      srand((unsigned) time(&t));
		      for(i=0;i<64;i++)
			{
			  pattern[i]=rand() % 2;
			  patternh[i]=pattern[i];
			  //pattern[i]=1;
			}

		      for(i=0;i<64;i++)
			{
			      printf("\n%u",pattern[i]);
			      //matriz[i/8]=(((((((((((pattern[i/8]<<1) | pattern[i/8 +2])<<1) | pattern[i/8 +3])<<1) | pattern[i/8 +4])<<1) | pattern[i/8 +5])<<1) | pattern[i/8 +6])<<1) | pattern[i/8+7];
			 }
		      for(i=0;i<8;i++)
		      	{
		      	  matriz[i]=(patternh[8*i]<<1)|patternh[8*i+1];
		      	  matriz[i]=(matriz[i]<<1)|patternh[8*i+2];
		      	  matriz[i]=(matriz[i]<<1)|patternh[8*i+3];
		      	  matriz[i]=(matriz[i]<<1)|patternh[8*i+4];
		      	  matriz[i]=(matriz[i]<<1)|patternh[8*i+5];
		      	  matriz[i]=(matriz[i]<<1)|patternh[8*i+6];
		      	  matriz[i]=(matriz[i]<<1)|patternh[8*i+7];
		      	  printf("\n%u",matriz[i]);
		      }
		      sen_2_byte_info(portlog,ADDR_DIG_0,matriz[0]);
		      	sen_2_byte_info(portlog,ADDR_DIG_1,matriz[1]);
		      	sen_2_byte_info(portlog,ADDR_DIG_2,matriz[2]);
		      	sen_2_byte_info(portlog,ADDR_DIG_3,matriz[3]);
		      	sen_2_byte_info(portlog,ADDR_DIG_4,matriz[4]);
		      	sen_2_byte_info(portlog,ADDR_DIG_5,matriz[5]);
		      	sen_2_byte_info(portlog,ADDR_DIG_6,matriz[6]);
		      	sen_2_byte_info(portlog,ADDR_DIG_7,matriz[7]);
		      unsigned int win = 1;
		      while(win==1)
			{
			  unsigned int temp = 0;
			  int help;
			  int row;

			  /*printf("\nDo you want help y/n?");
			  while((c=IORD(PORT_TECLADO_BASE,0)) != 0b1111)
			    {
				  if(c!=0b0011)
				  {
			      if(c==0b1100)
				{
				  help = 1;
				}
			      else
				{
				  help = 0;
				}
				  }
			    }
			  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b0011)
			  		  {
			  		  }*/
			  //if(help==1)
			    //{
			      printf("\nPresiona estas posiciones");
			      tem = 0;
			      for(i=0;i<64;i++)
				{
				  unsigned int temp=0;
				  for(j=0;j<64;j++)
				    {
				      temp = temp^(inverse[i][j]&pattern[j]);
				    }
				  solution[i]=temp;
				}

			      for(i=0;i<64;i++)
			      {
			    	  if(solution[i] == 1 && tem ==0)
			    	  				  {
			    	  					  pos = i;
			    	  					  tem = 1;
			    	  				  }
			      }
			      for(i=0;i<64;i++)
				{
				      printf("\n%u",solution[i]);
				      //matriz[i/8]=(((((((((((solution[i/8]<<1) | solution[i/8 +2])<<1) | solution[i/8 +3])<<1) | solution[i/8 +4])<<1) | solution[i/8 +5])<<1) | solution[i/8 +6])<<1) | solution[i/8+7];

				}
			    //}
			  /*for(i=0;i<8;i++)
				{
				  matriz[i]=(solution[8*i]<<1)|solution[8*i+1];
				  matriz[i]=(matriz[i]<<1)|solution[8*i+2];
				  matriz[i]=(matriz[i]<<1)|solution[8*i+3];
				  matriz[i]=(matriz[i]<<1)|solution[8*i+4];
				  matriz[i]=(matriz[i]<<1)|solution[8*i+5];
				  matriz[i]=(matriz[i]<<1)|solution[8*i+6];
				  matriz[i]=(matriz[i]<<1)|solution[8*i+7];
				  printf("\n%u",matriz[i]);
				}
			  sen_2_byte_info(portlog,ADDR_DIG_0,matriz[0]);
			  	sen_2_byte_info(portlog,ADDR_DIG_1,matriz[1]);
			  	sen_2_byte_info(portlog,ADDR_DIG_2,matriz[2]);
			  	sen_2_byte_info(portlog,ADDR_DIG_3,matriz[3]);
			  	sen_2_byte_info(portlog,ADDR_DIG_4,matriz[4]);
			  	sen_2_byte_info(portlog,ADDR_DIG_5,matriz[5]);
			  	sen_2_byte_info(portlog,ADDR_DIG_6,matriz[6]);
			  	sen_2_byte_info(portlog,ADDR_DIG_7,matriz[7]);
			  while((c=IORD(PORT_TECLADO_BASE,0)) != 0b1100)
			  {
				  sen_2_byte_info(portlog,ADDR_DIG_0,matriz[0]);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_1,matriz[1]);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_2,matriz[2]);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_3,matriz[3]);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_4,matriz[4]);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_5,matriz[5]);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_6,matriz[6]);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_7,matriz[7]);
				  for(i=0;i<50000;i++)
				  {

				  }
				  sen_2_byte_info(portlog,ADDR_DIG_0,0b00000000);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_1,0b00000000);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_2,0b00000000);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_3,0b00000000);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_4,0b00000000);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_5,0b00000000);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_6,0b00000000);
				  			  	sen_2_byte_info(portlog,ADDR_DIG_7,0b00000000);
			  }
			  for(i=0;i<8;i++)
			  			  	    {
			  			  	      matriz[i]=(pattern[8*i]<<1)|pattern[8*i+1];
			  			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+2];
			  			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+3];
			  			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+4];
			  			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+5];
			  			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+6];
			  			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+7];
			  			  	      printf("\n%u",matriz[i]);
			  			  }
			  sen_2_byte_info(portlog,ADDR_DIG_0,matriz[0]);
			  			  	sen_2_byte_info(portlog,ADDR_DIG_1,matriz[1]);
			  			  	sen_2_byte_info(portlog,ADDR_DIG_2,matriz[2]);
			  			  	sen_2_byte_info(portlog,ADDR_DIG_3,matriz[3]);
			  			  	sen_2_byte_info(portlog,ADDR_DIG_4,matriz[4]);
			  			  	sen_2_byte_info(portlog,ADDR_DIG_5,matriz[5]);
			  			  	sen_2_byte_info(portlog,ADDR_DIG_6,matriz[6]);
			  			  	sen_2_byte_info(portlog,ADDR_DIG_7,matriz[7]);*/
			   for(i=0;i<64;i++)
			   {
				   if(i%8==0)
				   {
					   printf("\n%u",solution[i]);
				   }
				   else
				   {
					   printf("%u",solution[i]);
				   }
			   }
			   printf("\n%u",pos);

			   while((c=IORD(PORT_TECLADO_BASE,0)) == 0b0011)
			   			  {
			   				  patternh[pos] = pattern[pos]^1;
			   			  for(i=0;i<8;i++)
			   			  	    {
			   			  	      matriz[i]=(patternh[8*i]<<1)|patternh[8*i+1];
			   			  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+2];
			   			  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+3];
			   			  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+4];
			   			  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+5];
			   			  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+6];
			   			  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+7];
			   			  	      printf("\n%u",matriz[i]);
			   			  }
			   			  sen_2_byte_info(portlog,ADDR_DIG_0,matriz[0]);
			   			  	sen_2_byte_info(portlog,ADDR_DIG_1,matriz[1]);
			   			  	sen_2_byte_info(portlog,ADDR_DIG_2,matriz[2]);
			   			  	sen_2_byte_info(portlog,ADDR_DIG_3,matriz[3]);
			   			  	sen_2_byte_info(portlog,ADDR_DIG_4,matriz[4]);
			   			  	sen_2_byte_info(portlog,ADDR_DIG_5,matriz[5]);
			   			  	sen_2_byte_info(portlog,ADDR_DIG_6,matriz[6]);
			   			  	sen_2_byte_info(portlog,ADDR_DIG_7,matriz[7]);

			   			  	for(i=0;i<5000;i++)
			   			  	{

			   			  	}
			   			  	patternh[pos] = patternh[pos]^1;
			   			  	for(i=0;i<8;i++)
			   			  				  	    {
			   			  				  	      matriz[i]=(patternh[8*i]<<1)|patternh[8*i+1];
			   			  				  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+2];
			   			  				  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+3];
			   			  				  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+4];
			   			  				  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+5];
			   			  				  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+6];
			   			  				  	      matriz[i]=(matriz[i]<<1)|patternh[8*i+7];
			   			  				  	      printf("\n%u",matriz[i]);
			   			  				  }
			   			  				  sen_2_byte_info(portlog,ADDR_DIG_0,matriz[0]);
			   			  				  	sen_2_byte_info(portlog,ADDR_DIG_1,matriz[1]);
			   			  				  	sen_2_byte_info(portlog,ADDR_DIG_2,matriz[2]);
			   			  				  	sen_2_byte_info(portlog,ADDR_DIG_3,matriz[3]);
			   			  				  	sen_2_byte_info(portlog,ADDR_DIG_4,matriz[4]);
			   			  				  	sen_2_byte_info(portlog,ADDR_DIG_5,matriz[5]);
			   			  				  	sen_2_byte_info(portlog,ADDR_DIG_6,matriz[6]);
			   			  				  	sen_2_byte_info(portlog,ADDR_DIG_7,matriz[7]);
			   			  	for(i=0;i<5000;i++)
			   			  	{

			   			  	}
			   			  }
			  printf("\nIngresa una fila:");
			  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b1111)
			    {
				  if(c!=0b0011)
				  {
			      if(c<3)
				  {
			    	  row = c;
				  }
			      else if(c>=3 && c<7)
			      {
			    	 row=c-1;
			      }
			      else
			      {
			    	  row=c-2;
			      }
				  }
			    }
			  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b0011)
			  		  {
			  		  }

			  int column;
			  printf("\nIngresa una columna:");
			  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b1111)
			    {
				  if(c!=0b0011)
				  {
				  if(c<3)
				  {
				  	  column = c;
				  }
				  else if(c>=3 && c<7)
				  {
				   	 column=c-1;
				  }
				  else
				  {
				   	  column=c-2;
				  }
				  }
			    }
			  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b0011)
			  		  {
			  		  }
			  printf("\ncolumn");


			  for(i=0;i<64;i++)
			    {
			      pattern[i] = pattern[i]^moves[8*row+column][i];
			      patternh[i] = pattern[i];
			      temp = temp||pattern[i];
			    }
			  win = 0;
			  for(i=0;i<64;i++)
			    {
			      win = win||pattern[i];
			      //matriz[i/8]=(((((((((((pattern[i/8]<<1) | pattern[i/8 +2])<<1) | pattern[i/8 +3])<<1) | pattern[i/8 +4])<<1) | pattern[i/8 +5])<<1) | pattern[i/8 +6])<<1) | pattern[i/8+7];
			    }

			}
		      printf("\n¡Felicitaciones ganaste!.");
		      while((c=IORD(PORT_TECLADO_BASE,0)) != 0b1111)
		      {
		    	  sen_2_byte_info(portlog,ADDR_DIG_0,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_1,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_2,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_3,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_4,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_5,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_6,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_7,0b00000000);
		    	  for(i=0;i<5000;i++)
		    	  {

		    	  }
		    	  sen_2_byte_info(portlog,ADDR_DIG_0,0b00000000);
		    	 		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_1,0b00100100);
		    	 		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_2,0b00100100);
		    	 		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_3,0b00000000);
		    	 		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_4,0b01000010);
		    	 		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_5,0b00100100);
		    	 		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_6,0b00011000);
		    	 		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_7,0b00000000);
		    	  for(i=0;i<5000;i++)
		    	  {

		    	  }
		      }
		      while((c=IORD(PORT_TECLADO_BASE,0)) != 0b0011)
		      {

		      }
		    }
		  else
		    {
		      unsigned int pattern[64];
		      unsigned int solution[64];
		      time_t t;
		      srand((unsigned) time(&t));
		      for(i=0;i<64;i++)
			{
			  pattern[i]=rand() % 2;
			  //pattern[i]=1;
			}

		      for(i=0;i<64;i++)
			{
			  printf("\n%u",pattern[i]);
			  //matriz[i/8]=(((((((((((pattern[i/8]<<1) | pattern[i/8 +2])<<1) | pattern[i/8 +3])<<1) | pattern[i/8 +4])<<1) | pattern[i/8 +5])<<1) | pattern[i/8 +6])<<1) | pattern[i/8+7];
			  if(i%8==0)
			  {
				  printf("\n%u",pattern[i]);
			  }
			  else
			  {
				  printf("%u",pattern[i]);
			  }
			}
		      for(i=0;i<8;i++)
		      	    {
		      	      matriz[i]=(pattern[8*i]<<1)|pattern[8*i+1];
		      	      matriz[i]=(matriz[i]<<1)|pattern[8*i+2];
		      	      matriz[i]=(matriz[i]<<1)|pattern[8*i+3];
		      	      matriz[i]=(matriz[i]<<1)|pattern[8*i+4];
		      	      matriz[i]=(matriz[i]<<1)|pattern[8*i+5];
		      	      matriz[i]=(matriz[i]<<1)|pattern[8*i+6];
		      	      matriz[i]=(matriz[i]<<1)|pattern[8*i+7];
		      	      printf("\n%u",matriz[i]);
		      }
		      sen_2_byte_info(portlog,ADDR_DIG_0,matriz[0]);
		      	sen_2_byte_info(portlog,ADDR_DIG_1,matriz[1]);
		      	sen_2_byte_info(portlog,ADDR_DIG_2,matriz[2]);
		      	sen_2_byte_info(portlog,ADDR_DIG_3,matriz[3]);
		      	sen_2_byte_info(portlog,ADDR_DIG_4,matriz[4]);
		      	sen_2_byte_info(portlog,ADDR_DIG_5,matriz[5]);
		      	sen_2_byte_info(portlog,ADDR_DIG_6,matriz[6]);
		      	sen_2_byte_info(portlog,ADDR_DIG_7,matriz[7]);
		      unsigned int win = 1;
		      while(win==1)
			{
			  unsigned int temp = 0;
			  int row;

			  printf("\nIngresa una fila:");
			  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b1111)
			    {
				  if(c!=0b0011)
				  {
				  if(c<=0b0010)
				  {
				   	  row = c;
				  }
				  else if(c>=0b0100 && c<=0b0110)
				  {
				  	 row=c-0b0001;
				  }
				  else if (c>=0b1000 && c<=0b1001)
				  {
					  row=c-0b0010;
				  }
				  else
				  {
					  printf("\nIngrese una tecla válida");
				  }
				  }
			    }
			  printf("\nrow: %u", row);

			  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b0011)
			  		  {
			  		  }

			  int column;
			  printf("\nIngresa una columna:");
			  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b1111)
			    {
				  if(c!=0b0011)
				   {
				  	  if(c<=0b0010)
				    {
				   	  column = c;
				    }
				    else if(c>=0b0100 && c<=0b0110)
				  	 {
				  	 	column=c-0b0001;
				  	  }
				  	else if (c>=0b1000 && c<=0b1001)
				  	 {
				  	  column=c-0b0010;
				  	  }
				    else
				  	 {
				  	  printf("\nIngrese una tecla válida");
				  	 }
			    }
			    }
			  printf("\ncolumn: %u",column);

			  while((c = IORD(PORT_TECLADO_BASE,0)) != 0b0011)
			  		  {
			  		  }
			  putchar(column);

			  for( i=0;i<64;i++)
			    {
			      pattern[i] = pattern[i]^moves[8*row+column][i];
			      temp = temp||pattern[i];
			    }
			  win = 0;
			  for(i=0;i<64;i++)
			    {
			      win = win||pattern[i];
			      //matriz[i/8]=(((((((((((pattern[i/8]<<1) | pattern[i/8 +2])<<1) | pattern[i/8 +3])<<1) | pattern[i/8 +4])<<1) | pattern[i/8 +5])<<1) | pattern[i/8 +6])<<1) | pattern[i/8+7];
			      if(i%8==0)
			      			  {
			      				  printf("\n%u",pattern[i]);
			      			  }
			      			  else
			      			  {
			      				  printf("%u",pattern[i]);
			      			  }
			    }
			  for(i=0;i<8;i++)
			  	    {
			  	      matriz[i]=(pattern[8*i]<<1)|pattern[8*i+1];
			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+2];
			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+3];
			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+4];
			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+5];
			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+6];
			  	      matriz[i]=(matriz[i]<<1)|pattern[8*i+7];
			  	      printf("\n%u",matriz[i]);
			  }
			  sen_2_byte_info(portlog,ADDR_DIG_0,matriz[0]);
			  	sen_2_byte_info(portlog,ADDR_DIG_1,matriz[1]);
			  	sen_2_byte_info(portlog,ADDR_DIG_2,matriz[2]);
			  	sen_2_byte_info(portlog,ADDR_DIG_3,matriz[3]);
			  	sen_2_byte_info(portlog,ADDR_DIG_4,matriz[4]);
			  	sen_2_byte_info(portlog,ADDR_DIG_5,matriz[5]);
			  	sen_2_byte_info(portlog,ADDR_DIG_6,matriz[6]);
			  	sen_2_byte_info(portlog,ADDR_DIG_7,matriz[7]);

			}

		      printf("\n¡Felicitaciones ganaste!.");
		      while((c=IORD(PORT_TECLADO_BASE,0)) != 0b1111)
		      {
		    	  sen_2_byte_info(portlog,ADDR_DIG_0,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_1,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_2,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_3,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_4,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_5,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_6,0b00000000);
		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_7,0b00000000);
		    	  for(i=0;i<5000;i++)
		    	  {

		    	  }
		    	  sen_2_byte_info(portlog,ADDR_DIG_0,0b00000000);
		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_1,0b00100100);
		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_2,0b00100100);
		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_3,0b00000000);
		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_4,0b01000010);
		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_5,0b00100100);
		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_6,0b00011000);
		    	  		    	  		      	sen_2_byte_info(portlog,ADDR_DIG_7,0b00000000);
		    	  for(i=0;i<5000;i++)
		    	  {

		    	  }
		      }

		      while((c=IORD(PORT_TECLADO_BASE,0)) != 0b0011)
		      {

		      }


	}







	}
  return 0;
}


